<h1>üõ†Ô∏è X·ª≠ L√Ω S·ª± C·ªë Th∆∞·ªùng G·∫∑p Khi C√†i ƒê·∫∑t Hadoop 3.3.6</h1>
<p>D∆∞·ªõi ƒë√¢y l√† t·ªïng h·ª£p c√°c v·∫•n ƒë·ªÅ anh c√≥ th·ªÉ g·∫∑p ph·∫£i (v√† ƒë√£ g·∫∑p ph·∫£i!) khi tri·ªÉn khai Hadoop 3.3.6 ·ªü ch·∫ø ƒë·ªô gi·∫£ l·∫≠p ph√¢n t√°n (Pseudo-Distributed Mode) tr√™n Ubuntu/WSL2 v√† c√°ch kh·∫Øc ph·ª•c ch√∫ng.</p>

<hr>

<h2>1. L·ªói L·ªánh Linux trong M√¥i tr∆∞·ªùng Windows (L·ªói M√¥i tr∆∞·ªùng)</h2>
<h3>Nguy√™n nh√¢n:</h3>
<ul>
    <li>C·ªë g·∫Øng ch·∫°y c√°c l·ªánh Linux nh∆∞ <code>sudo</code>, <code>apt</code>, ho·∫∑c <code>jps</code> tr·ª±c ti·∫øp trong **Windows Command Prompt (CMD)** ho·∫∑c **PowerShell**.</li>
    <li>M√¥i tr∆∞·ªùng **WSL (Ubuntu)** ch∆∞a ƒë∆∞·ª£c kh·ªüi ƒë·ªông.</li>
</ul>
<h3>C√°ch kh·∫Øc ph·ª•c:</h3>
<ol>
    <li>**ƒê·∫£m b·∫£o ƒëang ·ªü WSL:** Lu√¥n th·ª±c hi·ªán c√°c l·ªánh c√†i ƒë·∫∑t Hadoop trong c·ª≠a s·ªï **Ubuntu/WSL2** ƒë√£ ƒë∆∞·ª£c c√†i ƒë·∫∑t.</li>
    <li>**Kh·ªüi ƒë·ªông l·∫°i WSL:** N·∫øu g·∫∑p l·ªói, ch·∫°y <code>wsl --shutdown</code> trong CMD r·ªìi m·ªü l·∫°i Ubuntu.</li>
</ol>

<hr>

<h2>2. L·ªói Quy·ªÅn Ghi/Gi·∫£i N√©n (Operation Not Permitted)</h2>
<h3>Nguy√™n nh√¢n:</h3>
<ul>
    <li>Thao t√°c t·∫£i (<code>wget</code>) ho·∫∑c gi·∫£i n√©n (<code>tar -xzvf</code>) file Hadoop tr√™n **ph√¢n v√πng Windows ƒë∆∞·ª£c mount** (v√≠ d·ª•: th∆∞ m·ª•c <code>/mnt/d/PROJECT</code>).</li>
    <li>H·ªá th·ªëng Linux b·ªã gi·ªõi h·∫°n quy·ªÅn ghi metadata (nh∆∞ `utime`) tr√™n h·ªá th·ªëng file NTFS c·ªßa Windows.</li>
</ul>
<h3>C√°ch kh·∫Øc ph·ª•c:</h3>
<ol>
    <li>**Di chuy·ªÉn th∆∞ m·ª•c l√†m vi·ªác:** Lu√¥n t·∫£i v√† gi·∫£i n√©n file Hadoop trong **th∆∞ m·ª•c Home c·ªßa Linux** (<code>~</code> ho·∫∑c <code>/home/$USER</code>).</li>
    <li>Ch·∫°y l·ªánh chuy·ªÉn h∆∞·ªõng v√† t·∫£i l·∫°i:</li>
    <pre><code>cd ~
wget [ƒë∆∞·ªùng_d·∫´n_Hadoop]
tar -xzvf hadoop-3.3.6.tar.gz</code></pre>
</ol>

<hr>

<h2>3. L·ªói NameNode/DataNode Kh√¥ng Kh·ªüi ƒë·ªông (L·ªói Kh·ªüi t·∫°o)</h2>
<h3>Nguy√™n nh√¢n:</h3>
<ul>
    <li>**Sai ƒë∆∞·ªùng d·∫´n Java:** ƒê∆∞·ªùng d·∫´n <code>JAVA_HOME</code> trong <code>hadoop-env.sh</code> ho·∫∑c <code>.bashrc</code> kh√¥ng ch√≠nh x√°c.</li>
    <li>**Thi·∫øu Th∆∞ m·ª•c D·ªØ li·ªáu:** C√°c th∆∞ m·ª•c ƒë∆∞·ª£c khai b√°o trong <code>hdfs-site.xml</code> ch∆∞a ƒë∆∞·ª£c t·∫°o (`namenode`, `datanode`).</li>
    <li>**Ch∆∞a Format NameNode:** Qu√° tr√¨nh kh·ªüi t·∫°o HDFS ch∆∞a ƒë∆∞·ª£c th·ª±c hi·ªán.</li>
</ul>
<h3>C√°ch kh·∫Øc ph·ª•c:</h3>
<ol>
    <li>**Ki·ªÉm tra JAVA_HOME:** ƒê·∫£m b·∫£o <code>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</code> ƒë√£ ƒë∆∞·ª£c ƒë·∫∑t ƒë√∫ng trong c·∫£ <code>.bashrc</code> v√† <code>hadoop-env.sh</code>.</li>
    <li>**T·∫°o Th∆∞ m·ª•c:** Ch·∫°y l·ªánh t·∫°o th∆∞ m·ª•c n·∫øu ch∆∞a l√†m:</li>
    <pre><code>mkdir -p /usr/local/hadoop/data/namenode
mkdir -p /usr/local/hadoop/data/datanode</code></pre>
    <li>**Format NameNode:** Ch·∫°y l·ªánh format (CH·ªà M·ªòT L·∫¶N!):</li>
    <pre><code>hdfs namenode -format</code></pre>
</ol>

<hr>

<h2>4. L·ªói "command not found" (L·ªói C√∫ ph√°p)</h2>
<h3>Nguy√™n nh√¢n:</h3>
<ul>
    <li>C·ªë g·∫Øng m·ªü file b·∫±ng c√°ch g√µ t√™n file (v√≠ d·ª•: <code>core-site.xml</code>) thay v√¨ g·ªçi tr√¨nh so·∫°n th·∫£o.</li>
    <li>Ch∆∞a t·∫£i l·∫°i bi·∫øn m√¥i tr∆∞·ªùng sau khi ch·ªânh s·ª≠a <code>.bashrc</code>.</li>
</ul>
<h3>C√°ch kh·∫Øc ph·ª•c:</h3>
<ol>
    <li>**D√πng nano:** Lu√¥n m·ªü file c·∫•u h√¨nh b·∫±ng tr√¨nh so·∫°n th·∫£o:</li>
    <pre><code>nano core-site.xml</code></pre>
    <li>**Source l·∫°i c·∫•u h√¨nh:** Sau khi s·ª≠a <code>.bashrc</code>, lu√¥n ch·∫°y:</li>
    <pre><code>source ~/.bashrc</code></pre>
</ol>

<hr>

<h2>5. L·ªói SSH: B·ªã h·ªèi M·∫≠t kh·∫©u ho·∫∑c B·ªã k·∫πt ·ªü X√°c nh·∫≠n 'yes'</h2>
<h3>Nguy√™n nh√¢n:</h3>
<ul>
    <li>Ch∆∞a ch·∫°y l·ªánh <code>cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys</code> (ch∆∞a ·ªßy quy·ªÅn).</li>
    <li>L·∫ßn ƒë·∫ßu SSH tr√™n WSL b·ªã l·ªói x·ª≠ l√Ω nh·∫≠p li·ªáu.</li>
</ul>
<h3>C√°ch kh·∫Øc ph·ª•c:</h3>
<ol>
    <li>**·ª¶y quy·ªÅn:** ƒê·∫£m b·∫£o ƒë√£ ch·∫°y: <code>cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys</code> v√† <code>chmod 0600 ~/.ssh/authorized_keys</code>.</li>
    <li>**B·ªè qua x√°c nh·∫≠n:** D√πng l·ªánh:</li>
    <pre><code>ssh -o StrictHostKeyChecking=no localhost</code></pre>
    <li>**N·∫øu v·∫´n l·ªói:** Ch·∫°y <code>ssh-keygen -R localhost</code> ƒë·ªÉ x√≥a kh√≥a c≈© v√† th·ª≠ l·∫°i.</li>
</ol>

<p>N·∫øu b·∫°n g·∫∑p ph·∫£i l·ªói kh√°c kh√¥ng c√≥ trong danh s√°ch n√†y, h√£y ki·ªÉm tra l·∫°i k·ªπ l∆∞·ª°ng c√°c file XML (ƒë·∫∑c bi·ªát l√† l·ªói ch√≠nh t·∫£) v√† log file trong <code>/usr/local/hadoop/logs</code> ƒë·ªÉ t√¨m manh m·ªëi.</p>